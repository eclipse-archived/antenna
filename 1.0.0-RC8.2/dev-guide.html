<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.8.1 at 2020-03-24 
 | Rendered using Apache Maven Fluido Skin 1.6
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20200324" />
    <meta http-equiv="Content-Language" content="en" />
    <title>antenna-documentation &#x2013; Overview</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.6.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
      <script type="text/javascript" src="./js/apache-maven-fluido-1.6.min.js"></script>
      </head>
    <body class="topBarDisabled">
      <div class="container-fluid">
      <div id="banner">
        <div class="pull-left"><div id="bannerLeft"><h2>Antenna Documentation</h2>
</div>
</div>
        <div class="pull-right"></div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2020-03-24<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 1.0.0-RC8.2</li>
        </ul>
      </div>
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
<ul class="nav nav-list">
          <li class="nav-header">Overview</li>
    <li><a href="index.html" title="About"><span class="none"></span>About</a>  </li>
    <li><a href="getting-started.html" title="Getting started"><span class="none"></span>Getting started</a>  </li>
    <li><a href="how-to-use.html" title="How to use Antenna"><span class="icon-chevron-down"></span>How to use Antenna</a>
      <ul class="nav nav-list">
    <li><a href="antenna-cli/index.html" title="Command Line Interface"><span class="none"></span>Command Line Interface</a>  </li>
    <li><a href="antenna-gradle-plugin/index.html" title="Gradle Plugin"><span class="none"></span>Gradle Plugin</a>  </li>
    <li><a href="antenna-maven-plugin/index.html" title="Maven"><span class="none"></span>Maven</a>  </li>
      </ul>
  </li>
    <li><a href="troubleshooting.html" title="Troubleshooting"><span class="none"></span>Troubleshooting</a>  </li>
          <li class="nav-header">Development</li>
    <li><a href="how-to-configure.html" title="How to configure Antenna"><span class="icon-chevron-down"></span>How to configure Antenna</a>
      <ul class="nav nav-list">
    <li><a href="tool-configuration.html" title="Tool Configuration"><span class="none"></span>Tool Configuration</a>  </li>
    <li><a href="config-configuration.html" title="config.xml"><span class="none"></span>config.xml</a>  </li>
    <li><a href="workflow-configuration.html" title="Workflow Configuration"><span class="icon-chevron-down"></span>Workflow Configuration</a>
      <ul class="nav nav-list">
    <li><a href="analyzers/analyzers.html" title="Analyzers"><span class="none"></span>Analyzers</a>  </li>
    <li><a href="processors/processors.html" title="Processors"><span class="none"></span>Processors</a>  </li>
    <li><a href="generators/generators.html" title="Generators"><span class="none"></span>Generators</a>  </li>
    <li><a href="outputHandlers/outputHandlers.html" title="Output Handlers"><span class="none"></span>Output Handlers</a>  </li>
      </ul>
  </li>
      </ul>
  </li>
    <li class="active"><a href="#"><span class="none"></span>Development Guide</a>
  </li>
  </ul>
          <hr />
          <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
  <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
              </div>
          </div>
        </div>
        <div id="bodyColumn"  class="span10" >
<h1>Overview</h1>
<p>Antenna is a tool to automate your open source license compliance processes as much as possible. In the end that is</p>
<ul>

<li>collecting all compliance relevant data</li>
<li>process that data and warn if there might be any license compliance related issues</li>
<li>generating a set of compliance artifacts (source code bundle, attribution document, report) for your project.</li>
</ul>
<p>To reflect those three different types of tasks Antenna is built arround a workflow engine, which allows to orchestrate a set of <tt>analyzers</tt> to gather required information, <tt>processors</tt> to arrange, adjust and evaluate that data, and a set of <tt>generators</tt> to produce a set of compliance related artifacts.</p>
<p>Since licensing issues can deeply affect the success of your project it is required to be notified about any issues as early as possible in the development process. It is therefore useful to generate that information directly within your build. Antenna can directly be integrated into the build process. This is realized with several so called <tt>frontends</tt> to build systems, which allow to invoke the tool and provide it with necessary configuration.</p>
<p>The Antenna project is set up in a way that allows to easily create a custom configuration with a preconfigured set of shipped and custom analyzers, processors and generators to fit the needs of your internal compliance processes. E.g., you might use a commercial tool to analyze your dependencies and do not rely on the results of the maven dependency plugin. In that case you can provide a custom analyzer implementation, provide a custom configuration and bundle that as the tool, which can be used by your development teams to scan their projects. The <a class="externalLink" href="https://github.com/eclipse/antenna/tree/master/example-projects/example-project">example projects</a> show how to create such a custom configuration.</p>
<div class="section">
<div class="section">
<h3><a name="Project_structure"></a>Project structure</h3>
<p>Currently, the project is restructured. So this is WIP.</p>
<p>However, currently it is like: frontends: - <tt>antenna-cli</tt> - <tt>antenna-gradle-plugin</tt> - <tt>antenna-maven-plugin</tt></p>
<p><tt>antenna-assembly</tt> builds the jar for the cli version of antenna.</p>
<p>all the functionality is more or less implemented in <tt>antenna-core</tt>.</p>
<p><tt>antenna-api</tt> is about to contain the public api of Antenna that can be used to add new functionality. Unfortunately, something went terribly wrong in the past and what this module partially contains is not a publc api but a set of interfaces that are of not much help. This needs to be cleaned up.</p>
<p><tt>attribution-document</tt> contains the templates and files to generate the attribution document.</p>
<p><tt>antenna-model</tt> contains a xsd file that describes more or less the domain model of the application. However, it is not that clear. Some of the classes are solely used in the Antenna config others are also in the code. Needs to be cleaned up.</p>
<p><tt>antenna-p2</tt> contains the p2 product which is used to extract information from p2 repositories</p>
<p><tt>antenna-sw360</tt> is a connector to connect to an sw360 instance to fetch data from there and write the current state of the project to this instance.</p>
<p><tt>antenna-testing</tt> is a pom file that configures the antenna-maven-plugin so that it runs Antenna on the Antenna project itself. This needs to be replaced with a proper example project.</p>
<p><tt>antenna-testing-commons</tt> provides some common functionality to setup Antenna projects and test them.</p>
<h1>Development Guide</h1></div></div>
<div class="section">
<h2><a name="Setup"></a>Setup</h2>
<p>Required tools:</p>
<ul>

<li>Maven</li>
</ul>
<p>If your machine is located behind a proxy keep in mind to configure your proxy settings accordingly. For maven this can be done in <tt>~/.m2/settings.xml</tt>. Gradle needs a <tt>gradle.properties</tt> file in <tt>~/.gradle</tt>.</p></div>
<div class="section">
<h2><a name="How_to_build"></a>How to build</h2>
<p>If you don&#x2019;t want to build the p2 parts of antenna, just use</p>

<div>
<div>
<pre class="source">mvn clean install
</pre></div></div>

<p>on the command line.</p>
<p>If you do want to build the p2 parts and ship them with antenna, use</p>

<div>
<div>
<pre class="source">cd antenna-p2/dependencies
mvn clean package
cd ..
mvn clean package
cd ..
mvn clean install
</pre></div></div>

<p>This</p>
<ul>

<li>downloads the dependencies for p2 (in <tt>antenna-p2/dependencies</tt>)</li>
<li>builds the p2 products (in <tt>antenna-p2</tt>)</li>
<li>builds Antenna activating the profile for building p2</li>
</ul>
<p>To run the application you can have a look into the example project, which shows in its pom xml how to properly configure the antenna-maven-frontend.</p></div>
<div class="section">
<h2><a name="How_to_debug"></a>How to debug</h2>
<p>To debug Antenna it is advisable to use the debug option of maven. For that run your example project with</p>

<div>
<div>
<pre class="source">mvnDebug clean package
</pre></div></div>

<p>and configure a remote debugger that hooks to the running vm of the example project. For Intelij Idea this is described here <a class="externalLink" href="https://www.jetbrains.com/help/idea/run-debug-configuration-remote-debug.html">https://www.jetbrains.com/help/idea/run-debug-configuration-remote-debug.html</a></p>
<div class="section">
<h3><a name="Antenna_Debug_mode"></a>Antenna Debug mode</h3>
<p>Antenna provides also some further means to debug. If you run e.g. the example project with the with the parameter  <tt>-Ddebug</tt> Antenna will not delete any intermediate results so that they will be available for later inspection.</p></div></div>
<div class="section">
<h2><a name="Build_the_documentation"></a>Build the documentation</h2>
<p>Go into the <tt>antenna-documentation</tt> subfolder and call  <tt>mvn site site:run</tt>. This will build the documentation site and start it up in port 9000</p>
<p>Open a browser and type the directory <tt>http://localhost:9000</tt></p>
<p>Once the site is run, it can also be started from the main folder via <tt>mvn site:run</tt></p></div>
<div class="section">
<h2><a name="How_to_implement_a_custom_workflow_item"></a>How to implement a custom workflow item</h2>
<p>Antenna uses a pipeline workflow. The <b>sources</b> yield <b>Artifact</b>s that are processed by the <b>processors</b>. After processing the <b>sinks</b> produce an output from the processed <b>Artifact</b>s.</p>
<p>The sources and sinks can be chosen completely by the user. There are some fixed processors that will apply the configuration and add, delete or modify Artifacts. Also there is the possibility to add further processors to the workflow.</p>
<p>In order to implement those WorkflowItems your class needs to extend the corresponding abstract base class from the api module.</p>
<ul>

<li>Sources extend org.eclipse.sw360.antenna.api.workflow.AbstractAnalyzer</li>
<li>Processors extend org.eclipse.sw360.antenna.api.workflow.AbstractProcessor</li>
<li>Sinks extend org.eclipse.sw360.antenna.api.workflow.AbstractGenerator</li>
</ul>
<p>Common to all three components is the way how they should be instantiated. There needs to be a default constructor and a configure method. Since the components are instantiated via reflection the default constructor is used. Followed by a call to the configure method with a Map&lt;String, String&gt; containing the configuration. See how to configure Antenna to see how the configuration is passed.</p></div>
<div class="section">
<h2><a name="How_to_develop_rules"></a>How to develop rules</h2>
<p>Antenna can be used to test artifacts against certain rules. You can create your own rule set and add it as an additional workstep to your workflow configuration (<a href="./processors/rule-engine.html">Rule Engine</a>). Here is a guide that explains how to develop the rules: <a href="rule-development.html">Rule Development</a>.</p></div>
        </div>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>Copyright &copy;2020.
All rights reserved.</p>
        </div>
        </div>
    </footer>
    </body>
</html>
