<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.8.1 at 2020-02-07 
 | Rendered using Apache Maven Fluido Skin 1.6
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20200207" />
    <meta http-equiv="Content-Language" content="en" />
    <title>antenna-documentation &#x2013; Tool Configuration</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.6.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
      <script type="text/javascript" src="./js/apache-maven-fluido-1.6.min.js"></script>
      </head>
    <body class="topBarDisabled">
      <div class="container-fluid">
      <div id="banner">
        <div class="pull-left"><div id="bannerLeft"><h2>Antenna Documentation</h2>
</div>
</div>
        <div class="pull-right"></div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2020-02-07<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 1.0.0-RC8.2</li>
        </ul>
      </div>
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
<ul class="nav nav-list">
          <li class="nav-header">Overview</li>
    <li><a href="index.html" title="About"><span class="none"></span>About</a>  </li>
    <li><a href="getting-started.html" title="Getting started"><span class="none"></span>Getting started</a>  </li>
    <li><a href="how-to-use.html" title="How to use Antenna"><span class="icon-chevron-down"></span>How to use Antenna</a>
      <ul class="nav nav-list">
    <li><a href="antenna-cli/index.html" title="Command Line Interface"><span class="none"></span>Command Line Interface</a>  </li>
    <li><a href="antenna-gradle-plugin/index.html" title="Gradle Plugin"><span class="none"></span>Gradle Plugin</a>  </li>
    <li><a href="antenna-maven-plugin/index.html" title="Maven"><span class="none"></span>Maven</a>  </li>
      </ul>
  </li>
    <li><a href="troubleshooting.html" title="Troubleshooting"><span class="none"></span>Troubleshooting</a>  </li>
          <li class="nav-header">Development</li>
    <li><a href="how-to-configure.html" title="How to configure Antenna"><span class="icon-chevron-down"></span>How to configure Antenna</a>
      <ul class="nav nav-list">
    <li class="active"><a href="#"><span class="none"></span>Tool Configuration</a>
  </li>
    <li><a href="config-configuration.html" title="config.xml"><span class="none"></span>config.xml</a>  </li>
    <li><a href="workflow-configuration.html" title="Workflow Configuration"><span class="icon-chevron-down"></span>Workflow Configuration</a>
      <ul class="nav nav-list">
    <li><a href="analyzers/analyzers.html" title="Analyzers"><span class="none"></span>Analyzers</a>  </li>
    <li><a href="processors/processors.html" title="Processors"><span class="none"></span>Processors</a>  </li>
    <li><a href="generators/generators.html" title="Generators"><span class="none"></span>Generators</a>  </li>
    <li><a href="outputHandlers/outputHandlers.html" title="Output Handlers"><span class="none"></span>Output Handlers</a>  </li>
      </ul>
  </li>
      </ul>
  </li>
    <li><a href="dev-guide.html" title="Development Guide"><span class="none"></span>Development Guide</a>  </li>
  </ul>
          <hr />
          <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
  <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
              </div>
          </div>
        </div>
        <div id="bodyColumn"  class="span10" >
<h1>Tool Configuration</h1>
<p>Antenna can be used as plugin for different build systems. Currently, the configuration is almost the same for all three types (maven, gradle, cli). It is based on the structure of a Maven pom configuration. In what follows, the configuration is described and some hints are given if special means have to be taken into account for certain build systems.</p>
<p>Below you can find an example for a possible configuration. If you are using the <a href="antenna-maven-plugin/index.html">Maven Plugin</a>, this is part of your pom and you have to provide the maven coordinates of the plugin inside the <tt>&lt;plugin&gt;...&lt;/plugin&gt;</tt> tags.</p>

<div>
<div>
<pre class="source">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;plugin&gt;

    &lt;configuration&gt;
        &lt;!-- MANDATORY properties --&gt;

        &lt;!-- properties for Attribution Document --&gt;
        &lt;productName&gt;Modeler&lt;/productName&gt;
        &lt;productFullname&gt;Visual Rules - Modeler&lt;/productFullname&gt;
        &lt;version&gt;6.3.0&lt;/version&gt;

        &lt;!-- OPTIONAL properties --&gt;

        &lt;!-- path to your workflow definition file (only optional if the workflow steps are configured directly in this file) --&gt;
        &lt;workflowDefinitionFile&gt;${basedir}/workflow.xml&lt;/workflowDefinitionFile&gt;

        &lt;!-- properties for attaching Artifacts--&gt;
        &lt;attachAll&gt;true&lt;/attachAll&gt;
        &lt;filesToAttach&gt;
            &lt;param&gt;sources-zip,zip,OSS-sources&lt;/param&gt;
        &lt;/filesToAttach&gt;
        &lt;isMavenInstalled&gt;false&lt;/isMavenInstalled&gt;
        &lt;sourcesRepositoryUrl&gt;...&lt;/sourcesRepositoryUrl&gt;

        &lt;!-- path(s) to your config.xml(s)--&gt;
        &lt;configFiles&gt;
            &lt;param&gt; ${basedir}/config.xml &lt;/param&gt;
            &lt;param&gt; ${basedir}/config2.xml &lt;/param&gt;
        &lt;/configFiles&gt;

        &lt;!-- properties for proxy configuration--&gt;
        &lt;proxyHost&gt;${proxyHost}&lt;/proxyHost&gt;
        &lt;proxyPort&gt;${proxyPort}&lt;/proxyPort&gt;

    &lt;/configuration&gt;
&lt;/plugin&gt;
</pre></div></div>

<div class="section">
<div class="section">
<h3><a name="Explanation_of_parameters"></a>Explanation of parameters</h3>
<p>All parameters are required unless specified as optional.</p>
<ul>

<li><tt>productName</tt>: <i>(deprecated)</i> Name of the product (e.g. Modeler).</li>
<li><tt>productFullname</tt>: Full name of the product (e.g. Visual Rules - Modeler)</li>
<li><tt>version</tt>: Version of the product</li>
<li><tt>workflowDefinitionFile</tt>: <i>optional, if embedded inside tool configuration</i> The path to your workflow definition file, which defines the steps contained in your Antenna workflow.</li>
<li><tt>configFiles</tt>: <i>(optional)</i> Path to your configuration file(s).</li>
<li><tt>configFileUris</tt>: <i>(optional)</i> URIs to your config file.</li>
<li><tt>licenseValidation</tt>: <i>(optional)</i> In this section a license can be defined as forbidden and parameter for the license Validation can be set.</li>
<li><tt>copyrightHoldersName</tt>: <i>(optional)</i> The name of the copyright holder</li>
<li><tt>copyrightNotice</tt>: <i>(optional)</i> Annotation to the copyright</li>
<li><tt>proxyHost</tt>: <i>(optional)</i> Parameter to provide a proxy configuration</li>
<li><tt>proxyPort</tt>: <i>(optional)</i> Port to the provided proxy server</li>
<li><tt>isMavenInstalled</tt>: <i>(optional - default: false)</i> If set to true, tells Antenna that Maven is installed on this machine. This allows certain workflow-steps to run or retrieve more information. For Gradle and CLI in addition the <tt>M2_HOME</tt> variable needs to be set to the Maven executable. Defaults is false for Gradle and CLI. For Maven it the variable is ignored.</li>
<li><tt>antennaTargetDirectory</tt>: <i>(optional)</i> The folder where the documents created by Antenna are stored. Defaults to a folder called Antenna inside the build folder of the project.</li>
<li><tt>sourcesRepositoryUrl</tt>: <i>(deprecated)</i> This option once allowed to set another remote repository address However, in the current version it does not do anything and will be removed soon.</li>
</ul>
<p><b>Parameters related to attaching artifacts</b></p>
<ul>

<li><tt>attachAll</tt>: <i>(optional)</i> Attaches all files created by the plugin to the current build. Defaults to <tt>false</tt>. The default properties are:</li>
</ul>
<table border="0" class="table table-striped">
<thead>

<tr class="a">
<th> File                </th>
<th> Identifier       </th>
<th> Type </th>
<th> Classifier           </th></tr>
</thead><tbody>

<tr class="b">
<td>sources.zip          </td>
<td>sources-zip       </td>
<td>zip   </td>
<td>antenna-sources-zip      </td></tr>
<tr class="a">
<td>Antenna_3rdPartyAnalysisReport.txt    </td>
<td>antenna-report </td>
<td>txt   </td>
<td>antenna-processing-report</td></tr>
<tr class="b">
<td>attribution document  </td>
<td>attribution-doc    </td>
<td>pdf   </td>
<td>antenna-attribution-doc   </td></tr>
<tr class="a">
<td>Antenna_artifactsInformation.csv</td>
<td>artifact-information</td>
<td>csv </td>
<td>antenna-artifact-info    </td></tr>
<tr class="b">
<td>ClmReportData.json   </td>
<td>clm-report        </td>
<td>json  </td>
<td>antenna-clm-report       </td></tr>
<tr class="a">
<td>clm-report.pdf       </td>
<td>clm-report-pdf    </td>
<td>pdf   </td>
<td>clm-report-pdf        </td></tr>
</tbody>
</table>
<ul>

<li><tt>filesToAttach</tt>: <i>(optional)</i> If you want to attach single files or to overwrite default values, use this parameter (identifier from table):</li>
</ul>

<div>
<div>
<pre class="source">&lt;filesToAttach&gt;
 &lt;!--&lt;param&gt;identifier,type,classifier&lt;/param--&gt;
     &lt;param&gt;sources-zip,zip,OSS-sources&lt;/param&gt;
&lt;/filesToAttach&gt;
</pre></div></div>
</div>
<div class="section">
<h3><a name="Definition_of_the_Workflow_inside_the_tool_configuration"></a>Definition of the Workflow inside the tool configuration</h3>
<p>Inside the plugin definition, you can also add a fully fledged workflow definition. As an example consider the following plugin definition for Antenna:</p>

<div>
<div>
<pre class="source">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;plugin&gt;
    &lt;configuration&gt;
        &lt;productName&gt;Antenna EP&lt;/productName&gt;

        &lt;productFullname&gt;Antenna Example Project&lt;/productFullname&gt;

        &lt;version&gt;${version_to_scan}&lt;/version&gt;

        &lt;configFiles&gt;
            &lt;param&gt;/home/jenkins/agent/workspace/antenna-documentation-site-deploy_release/antenna-documentation/src/antennaconf.xml&lt;/param&gt;
        &lt;/configFiles&gt;
        &lt;workflowDefinitionFile&gt;/home/jenkins/agent/workspace/antenna-documentation-site-deploy_release/antenna-documentation/src/workflow.xml&lt;/workflowDefinitionFile&gt;
        &lt;workflow&gt;
            &lt;processors&gt;
                &lt;step&gt;
                    &lt;name&gt;Source Validator&lt;/name&gt;
                    &lt;classHint&gt;org.eclipse.sw360.antenna.validators.workflow.processors.SourceValidator&lt;/classHint&gt;
                    &lt;configuration&gt;
                        &lt;entry&gt;
                            &lt;entryKey&gt;missingSourcesSeverity&lt;/entryKey&gt;
                            &lt;entryValue&gt;FAIL&lt;/entryValue&gt;
                        &lt;/entry&gt;
                        &lt;entry&gt;
                            &lt;entryKey&gt;incompleteSourcesSeverity&lt;/entryKey&gt;
                            &lt;entryValue&gt;WARN&lt;/entryValue&gt;
                        &lt;/entry&gt;
                    &lt;/configuration&gt;
                    &lt;deactivated&gt;true&lt;/deactivated&gt;
                &lt;/step&gt;
            &lt;/processors&gt;
            &lt;generators&gt;
                &lt;step&gt;
                    &lt;name&gt;CSV Report Writer&lt;/name&gt;
                    &lt;classHint&gt;org.eclipse.sw360.antenna.workflow.generators.CSVGenerator&lt;/classHint&gt;
                &lt;/step&gt;
            &lt;/generators&gt;
        &lt;/workflow&gt;

        &lt;copyrightHoldersName&gt;Antenna Company&lt;/copyrightHoldersName&gt;
        &lt;copyrightNotice&gt;All rights reserved&lt;/copyrightNotice&gt;

        &lt;skip&gt;false&lt;/skip&gt;
    &lt;/configuration&gt;
&lt;/plugin&gt;
</pre></div></div>

<p>You can define the workflow as described in the <a href="./workflow-configuration.html">Workflow configuration</a> and you can even augment your workflow definition file by adding some steps in the maven <tt>pom.xml</tt>. The only difference is that in the <tt>pom.xml</tt> you cannot use the notation <tt>&lt;entry key=&quot;somekey&quot; value=&quot;somevalue&quot;&gt;</tt>, you have to use the long form.</p>
<p>If a workflow is present in the pom, it will get merged with any <tt>workflow.xml</tt> provided by you or by the assembly.</p>
<ul>

<li>Properties of existing steps will be changed.</li>
<li>New steps are added at the end of the list of steps in the same segment (analyzers, processors, generators and output handlers).</li>
</ul></div>
<div class="section">
<h3><a name="Workflow_properties_in_the_pom.xml"></a>Workflow properties in the <tt>pom.xml</tt></h3>
<p>Defining the workflow in the <tt>pom.xml</tt> allows defining and using properties in the workflow.</p>
<ul>

<li>Properties which do not contain dots are rendered into the workflow for all frontends. Properties containing a dot such as <tt>user.password</tt> are in general not rendered correctly so cannot be used.</li>
<li>For Maven, all properties known to maven are fully resolved in the <tt>pom.xml</tt> and can therefore be used in the step configuration.</li>
<li>For Gradle and CLI, only some <tt>project</tt> properties are resolved. The list is equivalent to the list in the <a href="./workflow-configuration.html">Workflow configuration</a></li>
</ul></div>
<div class="section">
<h3><a name="Additional_configuration_for_Java_9_or_newer"></a>Additional configuration for Java 9 or newer</h3>
<p>Since some Java EE dependencies like JAXB have been removed from the standard installation one has to manually add these dependencies when configuring the plugin.</p>

<div>
<div>
<pre class="source">&lt;plugin&gt;
    &lt;groupId&gt;org.eclipse.sw360.antenna&lt;/groupId&gt;
    &lt;artifactId&gt;antenna-maven-plugin&lt;/artifactId&gt;
    &lt;version&gt;x.y.z&lt;/version&gt;
    &lt;configuration&gt;
        &lt;!-- ... --&gt;
    &lt;/configuration&gt;
    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;
            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;
            &lt;version&gt;2.3.1&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;
            &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;
            &lt;version&gt;2.3.1&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;javax.activation&lt;/groupId&gt;
            &lt;artifactId&gt;activation&lt;/artifactId&gt;
            &lt;version&gt;1.1.1&lt;/version&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;
&lt;/plugin&gt;
</pre></div></div></div></div>
        </div>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>Copyright &copy;2020.
All rights reserved.</p>
        </div>
        </div>
    </footer>
    </body>
</html>
